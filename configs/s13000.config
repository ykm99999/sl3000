########################################
#  Target / Subtarget / Device
########################################
CONFIG_TARGET_MEDIATEK=y
CONFIG_TARGET_MEDIATEK_FILOGIC=y
CONFIG_TARGET_MEDIATEK_FILOGIC_DEVICE_sl3000=y

########################################
#  RootFS / 镜像
########################################
CONFIG_TARGET_ROOTFS_SQUASHFS=y
# 保留 ext4 由 defconfig 决定，不强制
# CONFIG_TARGET_ROOTFS_EXT4 is not set

########################################
#  基础系统
########################################
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_ca-certificates=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_ip6tables-nft=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_ubus=y
CONFIG_PACKAGE_ubusd=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_logd=y

########################################
#  LuCI + Web 管理
########################################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y

# LuCI 运行依赖（避免 default-settings、busybox 报 libpam/libtirpc 等）
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
CONFIG_PACKAGE_libustream-mbedtls=y
CONFIG_PACKAGE_rpcd=y
CONFIG_PACKAGE_rpcd-mod-rrdns=y
CONFIG_PACKAGE_libiwinfo=y
CONFIG_PACKAGE_libiwinfo-data=y
CONFIG_PACKAGE_libiwinfo-lua=y
CONFIG_PACKAGE_lua=y

########################################
#  网络功能
########################################
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iptables-mod-tproxy=y
CONFIG_PACKAGE_resolveip=y

########################################
#  WiFi（MT7981 内置）
########################################
CONFIG_PACKAGE_kmod-mt76=y
CONFIG_PACKAGE_kmod-mt76-core=y
CONFIG_PACKAGE_kmod-mt76-connac=y
CONFIG_PACKAGE_kmod-mt7981-firmware=y

# WiFi 管理（AP 工作必需）
CONFIG_PACKAGE_wpad-basic-mbedtls=y
CONFIG_PACKAGE_iwinfo=y

########################################
#  EMMC / 文件系统
########################################
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_blockd=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-mmc=y
CONFIG_PACKAGE_kmod-mmc-mtk=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_mkf2fs=y
CONFIG_PACKAGE_f2fsck=y
CONFIG_PACKAGE_mount-utils=y
CONFIG_PACKAGE_kmod-nls-base=y

########################################
#  交换机 / 以太网（MT7531）
########################################
CONFIG_PACKAGE_kmod-mediatek_eth=y
CONFIG_PACKAGE_kmod-mediatek_hnat=y
CONFIG_PACKAGE_kmod-mt7531=y

# VLAN / bridge 支持
CONFIG_PACKAGE_swconfig=y
CONFIG_PACKAGE_bridge=y
CONFIG_PACKAGE_kmod-bridge=y

########################################
#  LED / 按键
########################################
CONFIG_PACKAGE_kmod-leds-gpio=y
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y

########################################
#  常用工具
########################################
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_coreutils-base64=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_tar=y
CONFIG_PACKAGE_unzip=y

########################################
#  移除已知有问题或你用不到的包
########################################
# 避免缺 libpam / selinux / gpiod / sensors 等导致一堆 WARNING
#（你脚本里也会再清一遍）
# audit / policycoreutils / pcat-manager / kexec-tools 等相关
# 都不要启用，在这里明确关掉（防止 defconfig 误加）

CONFIG_PACKAGE_audit=n
CONFIG_PACKAGE_policycoreutils=n
CONFIG_PACKAGE_pcat-manager=n
CONFIG_PACKAGE_kexec-tools=n
CONFIG_PACKAGE_default-settings=n

# 避免 busybox 额外 PAM/TIRPC 支持
CONFIG_BUSYBOX_DEFAULT_PAM=n
CONFIG_BUSYBOX_DEFAULT_RPC=n

########################################
#  调试相关（可选）
########################################
CONFIG_PACKAGE_strace=y
CONFIG_PACKAGE_tcpdump-mini=y
