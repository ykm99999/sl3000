/dts-v1/;

#include "mt7981.dtsi"

/ {
	model = "SL3000 (eMMC)";
	compatible = "sl3000,mt7981-emmc", "mediatek,mt7981";

	chosen {
		bootargs = "console=ttyS0,115200n8 loglevel=8";
	};
};

/* ===== eMMC ===== */
&mmc0 {
	bus-width = <8>;
	max-frequency = <52000000>;
	cap-mmc-highspeed;
	non-removable;
	status = "okay";
};

/* ===== WiFi ===== */
&wifi {
	status = "okay";
};

/* ===== Ethernet / DSA / Switch ===== */
&eth {
	status = "okay";
	mediatek,eth-mac = <&gmac0>;
};

&gmac0 {
	phy-mode = "2500base-x";
	mediatek,switch = <&switch0>;
};

&mdio {
	switch0: switch@0 {
		compatible = "mediatek,mt7531";
		reg = <0>;
		reset-gpios = <&gpio 10 GPIO_ACTIVE_LOW>;
		interrupt-controller;
		#interrupt-cells = <1>;
	};
};

&switch0 {
	ports {
		port@0 {
			reg = <0>;
			label = "lan1";
		};
		port@1 {
			reg = <1>;
			label = "lan2";
		};
		port@2 {
			reg = <2>;
			label = "lan3";
		};
		port@3 {
			reg = <3>;
			label = "lan4";
		};
		port@4 {
			reg = <4>;
			label = "wan";
		};
	};
};

/* ===== LEDs ===== */
&leds {
	status = "okay";

	led_power: power {
		label = "sl3000:green:power";
		gpios = <&gpio 5 GPIO_ACTIVE_LOW>;
		default-state = "on";
	};

	led_wan: wan {
		label = "sl3000:green:wan";
		gpios = <&gpio 6 GPIO_ACTIVE_LOW>;
	};
};

/* ===== Buttons ===== */
&keys {
	status = "okay";

	reset {
		label = "reset";
		gpios = <&gpio 7 GPIO_ACTIVE_LOW>;
		linux,code = <KEY_RESTART>;
	};
};
